<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mini Fighter: Endless Mission</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div id="app">
      <canvas id="game" width="1280" height="720" aria-label="Space shooter game"></canvas>

      <div id="hud">
        <div class="hud-left">
          <div class="hud-row"><span>Hull</span><span id="hud-hull">0</span></div>
          <div class="hud-row"><span>Shields</span><span id="hud-shield">0</span></div>
        </div>
        <div class="hud-center">
          <div class="title">Mini Fighter Program</div>
          <div class="subtitle" id="hud-mission">Mission 1</div>
          <div class="boss-progress">
            <span id="boss-label">Boss ETA</span>
            <div class="boss-bar">
              <div id="boss-progress-fill"></div>
            </div>
          </div>
        </div>
        <div class="hud-right">
          <div class="hud-row"><span>Credits</span><span id="hud-credits">0</span></div>
          <div class="hud-row"><span>Score</span><span id="hud-score">0</span></div>
          <div class="hud-row"><span>Timer</span><span id="hud-time">00:00</span></div>
        </div>
      </div>

      <div id="overlay">
        <div class="panel" id="hangar">
          <h1>Mothership Hangar</h1>
          <p>
            The mothership carries millions of mini fighters, but elite pilots earn the right to fly
            advanced tech. Survive longer to earn credits and refit your ship.
          </p>
          <div class="stats-grid">
            <div>
              <div class="label">Pilot Rank</div>
              <div id="pilot-rank">Rookie</div>
            </div>
            <div>
              <div class="label">Available Credits</div>
              <div id="available-credits">0</div>
            </div>
            <div>
              <div class="label">Lifetime Credits</div>
              <div id="lifetime-credits">0</div>
            </div>
            <div>
              <div class="label">Last Mission</div>
              <div id="last-mission">N/A</div>
            </div>
            <div>
              <div class="label">Debug</div>
              <label class="toggle">
                <input type="checkbox" id="debug-unlock" />
                <span>Unlock All Levels</span>
              </label>
              <label class="toggle">
                <input type="checkbox" id="debug-invincible" />
                <span>Invincible</span>
              </label>
              <button id="reset-btn" class="ghost small">Reset Progress</button>
            </div>
          </div>
          <div class="tab-bar" role="tablist" aria-label="Hangar tabs">
            <button class="tab-btn active" data-tab="loadout" role="tab" aria-selected="true">
              Ship Loadout
            </button>
            <button class="tab-btn" data-tab="economy" role="tab" aria-selected="false">
              Economy
            </button>
            <button class="tab-btn" data-tab="mission" role="tab" aria-selected="false">
              Mission Select
            </button>
          </div>

          <div class="tab-panel" id="tab-loadout" data-tab-panel="loadout">
            <div class="loadout">
              <h2>Primary Weapon Tree</h2>
              <div class="tree-core">Main Weapon Core</div>
              <div class="tree-grid">
                <div class="tree-column">
                  <div class="tree-label">Barrel</div>
                  <div class="tree-nodes" id="tree-barrel"></div>
                </div>
                <div class="tree-column">
                  <div class="tree-label">Trigger</div>
                  <div class="tree-nodes" id="tree-trigger"></div>
                </div>
                <div class="tree-column">
                  <div class="tree-label">Mount</div>
                  <div class="tree-nodes" id="tree-mount"></div>
                </div>
                <div class="tree-column">
                  <div class="tree-label">Payload</div>
                  <div class="tree-nodes" id="tree-payload"></div>
                </div>
                <div class="tree-column">
                  <div class="tree-label">Modifier</div>
                  <div class="tree-nodes" id="tree-modifier"></div>
                </div>
                <div class="tree-column">
                  <div class="tree-label">Primary Upgrades</div>
                  <div class="tree-nodes" id="tree-primary-upgrades"></div>
                </div>
              </div>
            </div>

            <div class="loadout">
              <h2>Aux Systems Tree</h2>
              <div class="tree-core">Aux Hardpoint</div>
              <div class="tree-grid">
                <div class="tree-column">
                  <div class="tree-label">Aux Slot</div>
                  <div class="tree-nodes" id="tree-aux-select"></div>
                </div>
                <div class="tree-column">
                  <div class="tree-label">Aux Upgrades</div>
                  <div class="tree-nodes" id="tree-aux-upgrades"></div>
                </div>
                <div class="tree-column">
                  <div class="tree-label">Ship Systems</div>
                  <div class="tree-nodes" id="tree-ship-upgrades"></div>
                </div>
              </div>
            </div>

            <div class="actions">
              <button id="select-mission-btn">Select Mission</button>
            </div>
          </div>

          <div class="tab-panel" id="tab-economy" data-tab-panel="economy" hidden>
            <div class="loadout investments-section">
              <h2>Fleet Investments</h2>
              <p class="investments-desc">
                Invest in mothership infrastructure for long-term benefits. Returns compound over time.
              </p>
              <div class="investment-categories">
                <div class="investment-category" id="engineering-bay">
                  <div class="category-header">
                    <span class="category-icon">ðŸ”§</span>
                    <span class="category-name">Engineering Bay</span>
                    <span class="category-tier" id="engineering-tier">Tier 0/5</span>
                  </div>
                  <p class="category-desc">Unlock consumables and reduce repair costs.</p>
                  <div class="category-benefits" id="engineering-benefits"></div>
                  <button class="invest-btn" id="engineering-invest" disabled>
                    <span class="invest-label">Invest</span>
                    <span class="invest-cost" id="engineering-cost">200</span>
                  </button>
                </div>
                <div class="investment-category" id="operations-center">
                  <div class="category-header">
                    <span class="category-icon">ðŸ“¡</span>
                    <span class="category-name">Operations Center</span>
                    <span class="category-tier" id="operations-tier">Tier 0/5</span>
                  </div>
                  <p class="category-desc">Unlock mission variants and bonus objectives.</p>
                  <div class="category-benefits" id="operations-benefits"></div>
                  <button class="invest-btn" id="operations-invest" disabled>
                    <span class="invest-label">Invest</span>
                    <span class="invest-cost" id="operations-cost">200</span>
                  </button>
                </div>
                <div class="investment-category" id="fleet-shares">
                  <div class="category-header">
                    <span class="category-icon">ðŸ’°</span>
                    <span class="category-name">Fleet Shares</span>
                    <span class="category-tier" id="shares-tier">Tier 0/5</span>
                  </div>
                  <p class="category-desc">Earn passive dividends from fleet operations.</p>
                  <div class="category-benefits" id="shares-benefits"></div>
                  <button class="invest-btn" id="shares-invest" disabled>
                    <span class="invest-label">Invest</span>
                    <span class="invest-cost" id="shares-cost">300</span>
                  </button>
                </div>
              </div>
            </div>
          </div>

          <div class="tab-panel" id="tab-mission" data-tab-panel="mission" hidden>
            <h2>Mission Briefing</h2>
            <p>Select a mission profile. Each sortie increases in difficulty.</p>
            <div class="upgrade-list" id="level-list"></div>
            <div class="actions">
              <button id="launch-btn">Launch Mission</button>
            </div>
          </div>
        </div>

        <div class="panel" id="debrief" hidden>
          <h1>Mission Debrief</h1>
          <p id="debrief-text">Your ship was destroyed. Escape pod recovered.</p>
          <div class="stats-grid">
            <div>
              <div class="label">Time Survived</div>
              <div id="debrief-time">00:00</div>
            </div>
            <div>
              <div class="label">Enemies Destroyed</div>
              <div id="debrief-kills">0</div>
            </div>
            <div>
              <div class="label">Credits Earned</div>
              <div id="debrief-credits">0</div>
            </div>
          </div>
          <div class="actions">
            <button id="return-btn">Return to Hangar</button>
          </div>
        </div>
      </div>

      <div id="controls">
        <span>Move: Mouse</span>
        <span>Fire: LMB</span>
        <span>Alt: RMB</span>
        <span>Eject: E</span>
        <span>Pause: P</span>
      </div>

      <div id="mobile-controls" aria-hidden="true" hidden>
        <button class="mobile-btn alt" id="mobile-alt">
          <img class="mobile-icon" id="mobile-alt-icon" alt="" />
          <span class="mobile-label" id="mobile-alt-label"></span>
        </button>
        <button class="mobile-btn eject" id="mobile-eject">Eject</button>
        <button class="mobile-btn launch" id="mobile-launch">Launch</button>
      </div>
    </div>

    <script src="main.js"></script>
  </body>
</html>
